<template name="actionPlanCompose">
    {{#with action_plan}}
    <nav class="navbar navbar-default composer_toolbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Brand</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Link <span class="sr-only">(current)</span></a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <p class="navbar-text">Last Saved: {{last_save}}</p>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-fluid composer_body">
        <div class="row full_height">
            {{> milestoneList this}}
            
            {{> milestoneEditor selected_milestone}}
            <!-- <div class="col-md-4 composer-outline-outer">
                <div class="col-md-3 composer-outline">
                    <div id="changes-saved" class="alert alert-success" role="alert" style="display: none;">All changes have been saved.</div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h1 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1">{{action_plan.name}}</a>
                            </h1>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <p><strong>Description:</strong> {{action_plan.description}}</p>

                                <p><strong>Milestones:</strong> {{action_plan.build_milestones}}</p>

                                <p><strong>Steps:</strong> {{action_plan.steps}}</p>

                                <p><strong>Affordances:</strong> {{action_plan.affordances}}</p>

                                <p><strong>Min and max functionality:</strong> {{action_plan.min_functionality}}</p>

                                <p><strong>Reference work:</strong> {{action_plan.reference_work}}</p>

                                <p><strong>Learner's Prior Knowledge:</strong> 
                                    <ul>
                                        {{#each request_user.profile.skills}}
                                            <li>{{this.name}} (level {{this.level}})</li>
                                        {{/each}}
                                    </ul>
                                </p>
                                <p><strong>Learner's Requested Frameworks:</strong> 
                                    <ul>
                                        {{#each action_plan.requested_skills}}
                                            <li>{{this}}</li>
                                        {{/each}}
                                    </ul>
                                </p>
                            </div>
                        </div>
                    </div>
                
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h1 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2">How to compose an action plan</a>
                                <span class="caret"></span>
                            </h1>
                        </div>
                        <div id="collapse2" class="panel-collapse collapse">
                            <div class="panel-body">
                                <p><strong>Milestones:</strong> Write high-level goals here. A milestone is a major step in a project, such as creating a view or form. The milestones have some sort of clear goal that the learner can validate once completed.<br><br><strong>Subtasks:</strong> A subtask is a small task that must be completed to reach the goal of the milestone. They do not have to be extremely specific but it should be clear what needs to be done, such as to create a html form with a name and password, put in fields or create a submit button.</p><br><p><strong>Links: </strong>Links are optional resources for you to include with every subtask that can help guide the learner.</p>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div> -->
        </div>
    </div>
    {{/with}}
</template>