<template name="milestoneEditor">
    <div class="col-md-8 full_height milestone_editor">
        <div class="panel panel-default" id="{{_id}}">
            <div class="panel-body">
                <input id="_id" value="{{_id}}" hidden>
                <div class="form-group">
                    <label style="color: white" for="title">Milestone Title</label>
                    <div class="autocomplete-wrapper">
                        <div class="autocomplete">
                            <input type="text" class="form-control update_milestone" id="title" value="{{title}}" placeholder="Write a general high-level goal that the learner is trying to achieve." autocomplete="off">
                            <div class="autocomplete-content">
                            
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="motivation">Milestone Motivation</label>
                    <textarea class="form-control update_milestone" id="motivation" placeholder="Explain why this step must be done and what success looks like.">{{motivation}}</textarea>
                </div>
                <h5>Subtasks:</h5>
            </div>
            <table class="table">
                <thead>
                    <tr> 
                        <th>#</th>
                        <th>Substask Description</th>
                        <th>Subtask link</th>
                        <th></th> 
                    </tr> 
                </thead>
                <tbody>
                    {{#each subtask_ids}}
                        {{#with get_subtasks this}}
                            <tr>
                                <th>{{plusOne @index}}<input id="_id" value="{{_id}}" hidden></th>
                                <td><textarea class="form-control update_substask" id="description" placeholder="Subtask description">{{description}}</textarea></td>
                                <td><input type="text" class="form-control update_substask" id="links" value="{{links}}" placeholder=" Subtask Link(optional): Place links to resources that will be useful references in completing the subtasks."></td>
                                <td><button type="button" class="btn btn-danger delete-subtask"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></td>
                            </tr>
                        {{/with}}
                    {{/each}}
                </tbody>
            </table>
            <div class="panel-footer">
                <button class="btn btn-default add-subtask">Add Subtask</button>
                <div class="milestone-tags">
                    <h5>Tags: </h5>
                    {{#each tags}}
                        <span class="badge">{{this}}</span>
                    {{else}}
                        <span>None</span>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>
</template>
